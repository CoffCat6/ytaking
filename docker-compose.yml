services:
  blog:
    build:
      context: .
      dockerfile: Dockerfile
    image: ytaking-blog:latest
    container_name: ytaking-blog
    restart: unless-stopped
    ports:
      - "${PUBLIC_PORT:-8080}:8080"
    environment:
      TZ: ${TZ:-Asia/Shanghai}
      ADMIN_USER: ${ADMIN_USER:-admin}
      ADMIN_PASS: ${ADMIN_PASS:-change_me}
      SITE_BASE_URL: ${SITE_BASE_URL:-http://localhost:${PUBLIC_PORT:-8080}}
      ADMIN_BASE_URL: ${ADMIN_BASE_URL:-http://localhost:${PUBLIC_PORT:-8080}/admin}
      DATA_DIR: /app/data
    volumes:
      - ./data:/app/data
      - ./uploads:/app/uploads
